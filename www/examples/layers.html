<!DOCTYPE html>

<!-- test file used for cypress automation -->

<html>
  <head>
    <title>Alloy Map Sandbox - Basemap</title>
    <style>
      html,
      body {
        width: 100%;
        height: 100%;
        margin: 0;
      }
      #wrapper {
        background-color: #ccc;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <!-- dom elements for test setup -->
    <div id="wrapper">
      <div id="map" style="width: 100%; height: 800px;"></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js"></script>
    <script src="../../dist/alloy-map.js"></script>

    <script>
      localStorage.debug = 'alloymaps:*';

      const map = new alloymap.AlloyMap({
        api: 'https://api.labs.alloyapp.io/',
        token: '175c3f9b-6f44-4176-96a7-311922b0ad1c',
        element: document.getElementById('map'),
        centre: new alloymap.AlloyCoordinate(-2, 52),
        zoom: 10,
      });
      const basemap = alloymap.AlloyBasemapFactory.createSkyward();
      map.setBasemap(basemap);

      const layer = new alloymap.AlloyClusterLayer({
        map,
        layerCode: 'layers_streetlights_5c939e12ff5c130c98e0e4df',
        styles: [
          {
            styleId: '5c939e26ff5c130c98e0e4e4',
            colour: '#cc3300',
            icon: 'icon-stl',
          },
          {
            styleId: '5c94e75fff5c130b1c4ac5b4',
            colour: '#3300cc',
            icon: 'icon-close',
          },
          {
            styleId: '5c94e783ff5c130b1c4ac5b8',
            colour: '#00cc33',
            icon: 'icon-system-404',
          },
          {
            styleId: '5c94e7b6ff5c130b1c4ac5bc',
            colour: '#cc0033',
            icon: 'icon-close-small',
          },
          {
            styleId: '5c94e7f7ff5c130b1c4ac5c8',
            colour: '#33cc00',
            icon: 'icon-circle',
          },
          {
            styleId: '5c94e814ff5c130b1c4ac5d0',
            colour: '#993333',
            icon: 'icon-square',
          },
          {
            styleId: '5c94e835ff5c130b1c4ac5d5',
            colour: '#999933',
            icon: 'icon-plus',
          },
        ],
        extent: new alloymap.AlloyBounds(
          new alloymap.AlloyCoordinate(-5, 47),
          new alloymap.AlloyCoordinate(3, 57),
        ),
      });
      map.addLayer(layer);
    </script>
  </body>
</html>
